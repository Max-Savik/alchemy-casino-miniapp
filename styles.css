/* ───────────────────────────────────
   ALCHEMY CASINO • MAIN STYLESHEET
   ─ Fixes: rounded ornate frame +
            smoother alchemy button
   ─────────────────────────────────── */

/* ===== VARIABLES ===== */
:root {
    --alchemy-gold-1: #c7a457;
    --alchemy-gold-2: #8f6f28;
    --alchemy-radius: 2rem;
   --safe-extra: 8px;                                         /* запас */
  --bottom-bar-h: calc(60px + env(safe-area-inset-bottom) + var(--safe-extra));
}

/* ===== BASE LAYOUT ===== */
html,
body {
    min-height: 100%;
    margin: 0;
    scroll-behavior: smooth;
    padding-bottom: var(--bottom-bar-h);
}

body {
    font-family: 'Cinzel', serif;
    color: #f1e9d2;
    background: #1e1b19 url('https://www.transparenttextures.com/patterns/asfalt-light.png');
    background-attachment: fixed;
    box-shadow: inset 0 0 160px 60px rgba(0, 0, 0, .85);
}

/* мягкая «зернистость», слегка движущаяся */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: url('https://www.transparenttextures.com/patterns/diagmonds.png');
    opacity: .12;
    z-index: -1;
    background-size: 600px 600px;
    animation: alchemy 30s ease-in-out infinite;
}

@keyframes alchemy {
    0% {
        background-position: 0 0
    }

    50% {
        background-position: 100% 100%
    }

    100% {
        background-position: 0 0
    }
}

/* ===== FROSTED-GLASS PANELS ===== */
.glass {
    background: rgba(22, 14, 6, .55);
    backdrop-filter: blur(8px) saturate(120%);
}

/* ===== GOLDEN ORNATE FRAME (с радиусом) ===== */
.border-ornate {
    position: relative;
    border-radius: var(--alchemy-radius);
}

.border-ornate::before {
    /* Градиентная обводка 2 px, не обрезается уголками
       благодаря маске «content-box vs. border-box»          */
    content: '';
    position: absolute;
    inset: 0;
    padding: 2px;
    /* толщина рамки */
    border-radius: inherit;
    background: linear-gradient(45deg,
            var(--alchemy-gold-1),
            var(--alchemy-gold-2));
    /* «Вычерпываем» середину, оставляя только рамку */
    -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    filter: drop-shadow(0 0 6px rgba(199, 164, 87, .45)) drop-shadow(0 0 10px rgba(199, 164, 87, .25));
}

/* удобный хелпер используется в разметке */
.alch-rounded {
    border-radius: var(--alchemy-radius)
}

/* ===== NAV LINKS ===== */
nav ul {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    padding: 0;
    margin: 0;
}

nav li {
    list-style: none
}

.nav-link {
    position: relative;
    color: #d6b76d;
    padding: .25rem .5rem;
    border-radius: .25rem;
    transition: .3s;
}

.nav-link::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    height: 2px;
    width: 0;
    background: #d6b76d;
    transition: .3s;
}

.nav-link:hover {
    color: #f9e6a4
}

.nav-link:hover::after {
    width: 100%
}

/* ──────────────────────────────────
     ALCHEMY MAGIC BUTTON
     ────────────────────────────────── */
.alch-btn {
    --grad-from: #f9d468;
    --grad-via: #e1aa34;
    --grad-to: #b87400;
    --glint: rgba(255, 255, 255, .45);

    position: relative;
    display: inline-block;
    width: 100%;
    padding: 1rem 0;
    font-weight: 700;
    font-size: 1.1rem;
    text-align: center;
    color: #1b1405;
    background: linear-gradient(135deg,
            var(--grad-from) 0%,
            var(--grad-via) 40%,
            var(--grad-to) 100%);
    background-size: 200% 200%;
    border: none;
    border-radius: 999px;
    cursor: pointer;
    box-shadow:
        0 2px 6px rgba(0, 0, 0, .35),
        0 0 10px 2px rgba(249, 212, 104, .50);
    filter: brightness(1);
    transition:
        transform .25s cubic-bezier(.4, 0, .2, 1),
        filter .45s cubic-bezier(.4, 0, .2, 1);
    overflow: hidden;
}

/* плавная «всплывающая» реакция */
.alch-btn:hover {
    transform: translateY(-2px) scale(1.04);
    filter: brightness(1.12);
}

/* «расплавленный» фон внутри кнопки */
.alch-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: inherit;
    /* тот же градиент */
    background-size: inherit;
    z-index: -1;
    filter: blur(12px) brightness(1.4);
    animation: molten 8s linear infinite;
}

/* пробегающий блик */
.alch-btn::after {
    content: '';
    position: absolute;
    top: -100%;
    left: -45%;
    width: 40%;
    height: 250%;
    background: linear-gradient(45deg,
            transparent 0%,
            var(--glint) 45%,
            var(--glint) 55%,
            transparent 100%);
    transform: rotate(25deg);
    opacity: 0;
    transition: opacity .3s;
}

.alch-btn:hover::after {
    opacity: 1;
    animation: glint 1.2s cubic-bezier(.4, 0, .2, 1) forwards;
}

/* анимации */
@keyframes molten {
    0% {
        background-position: 0% 50%
    }

    50% {
        background-position: 100% 50%
    }

    100% {
        background-position: 0% 50%
    }
}

@keyframes glint {
    0% {
        transform: translateX(-60%) rotate(25deg)
    }

    100% {
        transform: translateX(220%) rotate(25deg)
    }
}

/* ===== CAULDRON / WHEEL (без изменений) ===== */
#wheelWrapper {
    position: relative;
    width: min(306px, 81vw);
    height: min(306px, 81vw)
    margin-top:0rem;
}

#cauldron {
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    overflow: hidden;
    background: radial-gradient(circle at 50% 30%,
            #3e2200 0%, #1e1000 60%, #0d0500 100%);
    border: 8px solid #4e2c00;
    box-shadow:
        0 0 28px rgba(255, 140, 0, .35),
        inset 0 0 40px rgba(0, 0, 0, .6);
}

#cauldron::before,
#cauldron::after {
    content: '';
    position: absolute;
    bottom: -5%;
    width: 20%;
    height: 8%;
    border-radius: 50% 50% 0 0;
    background: #4e2c00;
    box-shadow: 0 0 8px rgba(0, 0, 0, .6);
}

#cauldron::before {
    left: 15%;
    transform: rotate(-8deg)
}

#cauldron::after {
    right: 15%;
    transform: rotate(8deg)
}

/* пузырьки */
.bubble {
    position: absolute;
    bottom: 12%;
    width: 14px;
    height: 14px;
    background: rgba(149, 214, 255, .65);
    border-radius: 50%;
    filter: blur(.4px);
}

@keyframes rise {
    0% {
        transform: translateY(0) scale(.6);
        opacity: .8
    }

    100% {
        transform: translateY(-260px) scale(1.2);
        opacity: 0
    }
}

/* пар */
#steam {
    position: absolute;
    bottom: 10%;
    left: 50%;
    width: 120px;
    height: 120px;
    transform: translateX(-50%);
    background: radial-gradient(circle,
            rgba(255, 255, 255, .35) 0%,
            rgba(255, 255, 255, 0) 60%);
    filter: blur(14px);
    opacity: 0;
    pointer-events: none;
}

/* стрелка-показатель */
#wheelSvg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 0 18px rgba(214, 176, 77, .70));
}

.pointer {
    position: absolute;
    left: 50%;
    top: -6%;
    transform: translateX(-50%);
    border-left: 16px solid transparent;
    border-right: 18px solid transparent;
    border-top: 36px solid #d4af37;
    filter: drop-shadow(0 0 6px rgba(212, 175, 55, .85));
}

@media(min-width:500px) {
    .pointer {
        border-left: 18px solid transparent;
        border-right: 18px solid transparent;
        border-top: 36px solid #d4af37;
    }
}

/* ===== GLOW TEXT & SCROLLBAR ===== */
.glow-text {
    color: #d6b76d;
    text-shadow:
        0 0 8px rgba(214, 183, 109, .85),
        0 0 16px rgba(214, 183, 109, .55);
}

::-webkit-scrollbar {
    width: 6px
}

::-webkit-scrollbar-thumb {
    background: #8f6f28;
    border-radius: 3px;
}


/* простой helper чтобы прятать/показывать секции */
.hidden {
    display: none
}
/* ---------- nft-card без @apply ---------- */
.nft-card{
  background:#1f2937;        /* bg-gray-800 */
  border-radius:0.75rem;     /* rounded-xl  */
  padding:0.75rem;           /* p-3         */
  display:flex;flex-direction:column;align-items:center;text-align:center;
  cursor:pointer;transition:0.2s;border:2px solid transparent;
}
.nft-card:hover    { border-color:#fbbf24 }   /* hover:ring-amber-400 */
.nft-card.selected { border-color:#f59e0b }   /* ring-amber-500       */
.nft-card.staked   { opacity:.4;pointer-events:none }

.nft-card img{ width:6rem;height:6rem;object-fit:cover;border-radius:0.5rem; } /* w-24 h-24 rounded-lg */




/* ── PILLS & BUTTON IN HEADER ─────────────── */
.ton-pill{
  background:rgba(255,255,255,.07);
  border:1px solid rgba(199,164,87,.35);
  backdrop-filter:blur(6px);
}

.wallet-btn{
  padding:.45rem .9rem;
  font-weight:600;
  font-size:.95rem;
  color:#1b1405;
  background:linear-gradient(135deg,#fcd56a 0%,#d29b35 40%,#a96e08 100%);
  border-radius:999px;
  box-shadow:0 2px 6px rgba(0,0,0,.35),
             0 0 6px 2px rgba(249,212,104,.45);
  transition:transform .25s cubic-bezier(.4,0,.2,1),
             filter .45s cubic-bezier(.4,0,.2,1);
}
.wallet-btn:hover{
  transform:translateY(-1px) scale(1.04);
  filter:brightness(1.08);
}

/* чтобы всё влезло даже на 320 px */
@media (max-width:380px){
  .wallet-btn span{display:none;}        /* прячем текст, оставляем иконку */
  .wallet-btn svg{margin:0;}             /* центрируем иконку */
  .wallet-btn{padding:.45rem .55rem;}
}

/* компактная Wallet-кнопка на узких экранах */
@media (max-width:420px){
  .wallet-btn{
    padding: .45rem .6rem;   /* меньше, чем .9rem */
    max-width: 40vw;         /* не больше 40% экрана */
    flex-shrink: 0;
  }
}
/* запрет прокрутки – на всякий случай */
html,body{overflow-x:hidden;}

/* HEADER: не даём теням / градиентам вылезти */
header{overflow:hidden;}

/* кнопка WALLET – максимум 34% ширины экрана;
   текст обрежется, но иконка останется */
.wallet-btn{
  max-width:34vw;            /* <= 34 % вьюпорта */
  flex-shrink:1;             /* разрешаем сжиматься */
}

/* показывать текст WALLET только когда экран шире 420 px */
@media (max-width:420px){
  .wallet-label{display:none;}      /* скрываем слово */
  .wallet-btn{
    padding:.45rem .55rem;          /* уже кнопка */
    max-width:2.8rem;               /* ≈ иконка + паддинги */
  }
}
/* =========================
   НИЖНЯЯ НАВИГАЦИЯ (4 КНОПКИ)
   ========================= */

/* 3. панель */
.bottom-nav{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--bottom-bar-h);

  /* safe-area + наш запас остаются внутри навбарa */
  padding-bottom: calc(env(safe-area-inset-bottom) + var(--safe-extra));

  background: rgba(22,14,6,.55);
  backdrop-filter: blur(8px) saturate(120%);
  border-top: 1px solid rgba(199,164,87,.3);
  display: flex;
  justify-content: space-between;
  z-index: 60;
}

/* кнопки */
.bottom-nav .nav-link{
  flex: 1 1 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: .4rem 0;
  color: #d6b76d;
  transition: color .25s;
}

/* активная вкладка — более яркий (золотой) */
.bottom-nav .nav-link.active {
  color: #ffda87;
}

/* ===================================
   Иконка внутри кнопки (SVG) .nav-ico
   =================================== */
.nav-ico {
  width: 24px;    /* жёстко задаём 24px × 24px */
  height: 24px;
  margin-bottom: 0.15rem; /* небольшой отступ до подписи */
  stroke: currentColor;   /* цвет линий = цвет текста (.nav-link) */
}

/* ===================================
   Подпись внутри кнопки (span.nav-lbl)
   =================================== */
.nav-lbl {
  font-size: 0.72rem;  /* компактнее, но читаемо */
  line-height: 1;
}

body.compact{
  font-size:0.85rem !important;     /* −15 %  */
  --alchemy-radius:1rem;            /* ещё меньше радиус */
}

/* базовые отступы ------------------------------------------------------ */
body.compact .header-row{padding:0.2rem 0.5rem !important;gap:0.35rem!important;}
body.compact section     {padding-block:0.6rem !important;}
body.compact .glass      {padding:0.6rem 0.8rem !important;}
body.compact [class*="gap-"]{gap:0.45rem !important;}
body.compact .mb-8       {margin-bottom:0.8rem !important;}
body.compact .mt-12      {margin-top:1rem !important;}


body.compact #gameSection h1{
  margin-top:-0.4rem !important;  /* поднимаем вверх */
  margin-bottom:0.4rem !important;
  font-size:clamp(1.6rem,4vw,2.2rem) !important;
}

/* кнопки ---------------------------------------------------------------- */
body.compact .alch-btn {padding:0.5rem 0 !important;font-size:0.9rem !important;}
body.compact .wallet-btn{padding:0.25rem 0.45rem !important;font-size:0.78rem !important;}


/* мелочи ---------------------------------------------------------------- */
body.compact .nft-card      {padding:0.4rem !important;}
body.compact .nft-card img  {width:4.75rem !important;height:4.75rem !important;}

body.compact #gameSection {
  margin-top: 10rem !important;
}

main {
  padding-top: 4rem;
}
